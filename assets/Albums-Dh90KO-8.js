import{x as d,a as v,y as p,w as f,c as n,b as s,M as u,F as h,D as b,E as k,o as r,q as w,t as l}from"./vendor-vue-CWsiai-x.js";import{_ as x,s as m}from"./index-BX4RGhpT.js";const A={class:"albums-page-container"},D={class:"content-layer"},M={class:"albums-grid"},B=["onClick"],C={class:"card-image"},I=["src"],z={class:"card-info"},E={class:"album-meta"},F={key:0,class:"year"},S={class:"count"},$={class:"album-name"},j={__name:"Albums",setup(N){const g=k(),c=d(()=>m.photos||[]),_=d(()=>{const t=new Map;return c.value.forEach(e=>{t.has(e.category)||t.set(e.category,{name:e.category,cover:e.url,count:0,year:e.date?new Date(e.date).getFullYear():""}),t.get(e.category).count++}),Array.from(t.values())}),i=v("");p(()=>{m.initData()}),f(c,t=>{const e=o=>/\.(jpg|jpeg|png|webp|gif)$/i.test(o),a=t.filter(o=>e(o.url));if(a.length>0){const o=Math.floor(Math.random()*a.length);i.value=a[o].url}},{immediate:!0});const y=t=>{g.push({name:"category",params:{name:t}})};return(t,e)=>(r(),n("div",A,[s("div",{class:"bg-layer",style:u({backgroundImage:`url(${i.value})`})},null,4),e[2]||(e[2]=s("div",{class:"bg-overlay"},null,-1)),s("div",D,[e[1]||(e[1]=s("header",{class:"page-header"},[s("h2",{class:"title"},"Album Collections"),s("p",{class:"subtitle"},"Stored memories categorized by location.")],-1)),s("div",M,[(r(!0),n(h,null,b(_.value,(a,o)=>(r(),n("div",{key:a.name,class:"album-card",style:u({"--delay":o*.1+"s"}),onClick:V=>y(a.name)},[s("div",C,[s("img",{src:a.cover,loading:"lazy"},null,8,I),e[0]||(e[0]=s("div",{class:"card-overlay"},null,-1))]),s("div",z,[s("div",E,[a.year?(r(),n("span",F,l(a.year),1)):w("",!0),s("span",S,l(a.count)+" items",1)]),s("h3",$,l(a.name),1)])],12,B))),128))])])]))}},O=x(j,[["__scopeId","data-v-8e0cb019"]]);export{O as default};

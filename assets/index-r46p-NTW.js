const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Albums-CU8ZEW_m.js","assets/vendor-vue-C9kWPA4d.js","assets/vendor-vue-CIGW-MKW.css","assets/Albums-B4KiBtg-.css","assets/Timeline-DvbEotUE.js","assets/Timeline-BoLt2dbq.css","assets/PhotoDetail-Bpzn-AHT.js","assets/PhotoDetail-BRcEXoml.css"])))=>i.map(i=>d[i]);
import{r as W,a as g,w as q,c as _,b as t,n as x,d as Z,e as k,f as C,u as w,g as F,h as B,i as M,v as J,o as f,j as L,k as R,K as X,l as ee,m as O,p as S,q as te,s as se,t as oe,T as ae,x as y,F as ne,y as re,z as le,A as ie,B as ce,C as V,D as de,E as ue,G as me}from"./vendor-vue-C9kWPA4d.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const e of n.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&i(e)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}})();const ve="modulepreload",fe=function(d){return"/"+d},N={},D=function(c,l,i){let s=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(e==null?void 0:e.nonce)||(e==null?void 0:e.getAttribute("nonce"));s=Promise.allSettled(l.map(u=>{if(u=fe(u),u in N)return;N[u]=!0;const v=u.endsWith(".css"),P=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${P}`))return;const h=document.createElement("link");if(h.rel=v?"stylesheet":ve,v||(h.as="script"),h.crossOrigin="",h.href=u,r&&h.setAttribute("nonce",r),document.head.appendChild(h),v)return new Promise((E,Y)=>{h.addEventListener("load",E),h.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${u}`)))})}))}function n(e){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=e,window.dispatchEvent(r),!r.defaultPrevented)throw e}return s.then(e=>{for(const r of e||[])r.status==="rejected"&&n(r.reason);return c().catch(n)})},b=W({searchQuery:"",photos:[],loading:!1,async initData(){if(!(this.photos.length>0)){this.loading=!0;try{const d=await D(()=>import("./photos-BhotFMSc.js"),[]);this.photos=d.default||d}catch(d){console.error("æ•°æ®åŠ è½½å¤±è´¥",d)}finally{this.loading=!1}}}}),Q=(d,c)=>{const l=d.__vccOpts||d;for(const[i,s]of c)l[i]=s;return l},he={class:"layout-container"},pe={class:"sidebar-inner"},_e={class:"nav-menu"},ye={class:"search-section"},ge={class:"search-input-wrapper"},we={class:"main-content"},be={__name:"App",setup(d){const c=F(),l=g(!1),i=()=>{l.value=!l.value},s=()=>{l.value=!1};return q(()=>c.path,()=>{s()}),(n,e)=>{const r=B("router-link"),u=B("router-view");return f(),_("div",he,[t("header",{class:"mobile-header"},[t("button",{class:"menu-btn",onClick:i},[...e[1]||(e[1]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),e[2]||(e[2]=t("span",{class:"mobile-title"},"YuCheng",-1)),e[3]||(e[3]=t("div",{style:{width:"24px"}},null,-1))]),t("div",{class:x(["drawer-overlay",{show:l.value}]),onClick:s},null,2),t("aside",{class:x(["sidebar",{open:l.value}])},[t("div",pe,[t("button",{class:"close-btn-mobile",onClick:s},"Ã—"),e[8]||(e[8]=Z('<div class="profile-section" data-v-1621a66a><div class="avatar-ring" data-v-1621a66a><img src="https://api.dicebear.com/7.x/notionists/svg?seed=Felix" alt="Avatar" data-v-1621a66a></div><h1 class="brand-title" data-v-1621a66a>YuCheng</h1><p class="brand-slogan" data-v-1621a66a>è®°å½•ç¾Žå¥½çž¬é—´</p></div>',1)),t("nav",_e,[k(r,{to:"/",class:x(["nav-item",{active:w(c).name==="home"}])},{default:C(()=>[...e[4]||(e[4]=[t("span",{class:"icon"},"ðŸ“·",-1),L(" å…¨éƒ¨ç…§ç‰‡ ",-1)])]),_:1},8,["class"]),k(r,{to:"/albums",class:x(["nav-item",{active:w(c).name==="albums"}])},{default:C(()=>[...e[5]||(e[5]=[t("span",{class:"icon"},"ðŸ“‚",-1),L(" ç›¸å†Œåˆ†ç±» ",-1)])]),_:1},8,["class"]),k(r,{to:"/timeline",class:x(["nav-item",{active:w(c).name==="timeline"}])},{default:C(()=>[...e[6]||(e[6]=[t("span",{class:"icon"},"â³",-1),L(" æ—¶é—´å½’æ¡£ ",-1)])]),_:1},8,["class"])]),t("div",ye,[t("div",ge,[e[7]||(e[7]=t("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)),M(t("input",{"onUpdate:modelValue":e[0]||(e[0]=v=>w(b).searchQuery=v),placeholder:"Type to search...",type:"text"},null,512),[[J,w(b).searchQuery]])])])])],2),t("main",we,[k(u,null,{default:C(({Component:v})=>[(f(),R(X,{include:"GalleryPage,TimelinePage"},[(f(),R(ee(v)))],1024))]),_:1})])])}}},xe=Q(be,[["__scopeId","data-v-1621a66a"]]),ke={class:"gallery-container"},Ce={key:0,class:"gallery-header"},Le={class:"header-content"},Ee={class:"category-title"},De={class:"stats"},Pe={key:1,class:"search-feedback"},Ye={class:"masonry-columns"},Te=["data-date","onClick"],Ae=["src","alt","onLoad"],Oe={class:"overlay"},Se={class:"overlay-content"},$e={class:"photo-title"},Ie={key:0,class:"exif-info"},Be={key:0},Re={class:"date"},Ve={key:0},Ne={key:1,class:"end-text"},je={name:"GalleryPage"},qe=Object.assign(je,{setup(d){const c=F(),l=le(),i={scrollY:0},s=O(()=>b.photos||[]),n=g(c.params.name||"å…¨éƒ¨"),e=20,r=g(e),u=g(null);q(()=>c.params.name,m=>{const o=m||"å…¨éƒ¨";o!==i.category&&(n.value=o,r.value=e,i.category=o,i.scrollY=0,i.limit=e,window.scrollTo(0,0))});const v=O(()=>s.value.filter(o=>{var I;const a=n.value==="å…¨éƒ¨"?!0:o.category===n.value,p=b.searchQuery.toLowerCase(),K=!p||o.category.toLowerCase().includes(p)||((I=o.exif)==null?void 0:I.model)&&o.exif.model.toLowerCase().includes(p)||o.name.toLowerCase().includes(p)||o.date&&S(o.date).format("YYYY").includes(p);return a&&K}).sort((o,a)=>new Date(a.date)-new Date(o.date))),P=O(()=>v.value.slice(0,r.value)),h=()=>{r.value<v.value.length&&(r.value+=e)},E=g(new Set),Y=m=>E.value.add(m),H=m=>S(m).format("YYYY.MM.DD"),T=g(""),A=g(!1);let $=null;const U=()=>{A.value=!0;const m=document.querySelectorAll(".photo-card");for(const o of m){const a=o.getBoundingClientRect();if(a.top>=0&&a.top<window.innerHeight){const p=o.getAttribute("data-date");p&&(T.value=S(p).format("YYYYå¹´ MMæœˆ"));break}}clearTimeout($),$=setTimeout(()=>A.value=!1,1500)};te(()=>{b.initData(),i.limit>e&&(r.value=i.limit);const m=new IntersectionObserver(o=>{o[0].isIntersecting&&h()},{rootMargin:"200px"});u.value&&m.observe(u.value),window.addEventListener("scroll",U,{passive:!0})}),se(()=>{console.log("ðŸš€ GalleryPage è¢«ç¼“å­˜æ¿€æ´»äº†ï¼ä½ç½®åº”è¯¥æ²¡å˜ã€‚"),i.scrollY>0&&ie(()=>{window.scrollTo(0,i.scrollY)})}),oe((m,o,a)=>{i.scrollY=window.scrollY,a()});const z=m=>l.push(`/photo/${m}`);return(m,o)=>(f(),_("div",ke,[k(ae,{name:"fade"},{default:C(()=>[M(t("div",{class:"floating-date-badge"},y(T.value),513),[[ce,A.value&&T.value]])]),_:1}),w(b).searchQuery?(f(),_("div",Pe,[o[0]||(o[0]=L('Searching for "',-1)),t("span",null,y(w(b).searchQuery),1),o[1]||(o[1]=L('"',-1))])):(f(),_("header",Ce,[t("div",Le,[t("h2",Ee,y(n.value),1),t("p",De,y(v.value.length)+" Frames ",1)])])),t("div",Ye,[(f(!0),_(ne,null,re(P.value,a=>(f(),_("div",{key:a.id,class:"photo-card","data-date":a.date,onClick:p=>z(a.id)},[t("div",{class:x(["img-container",{loaded:E.value.has(a.id)}])},[t("img",{src:a.thumb||a.url,loading:"lazy",alt:a.name,onLoad:p=>Y(a.id)},null,40,Ae),t("div",Oe,[t("div",Se,[t("h3",$e,y(a.category),1),a.exif?(f(),_("div",Ie,[a.exif.model?(f(),_("p",Be,y(a.exif.model),1)):V("",!0),t("p",Re,y(H(a.date)),1)])):V("",!0)])])],2)],8,Te))),128))]),t("div",{ref_key:"bottomObserver",ref:u,class:"loading-trigger"},[r.value<v.value.length?(f(),_("span",Ve,"Loading...")):(f(),_("span",Ne,"The End."))],512)]))}}),j=Q(qe,[["__scopeId","data-v-0ac11d25"]]),Fe=[{path:"/",name:"home",component:j},{path:"/category/:name",name:"category",component:j},{path:"/albums",name:"albums",component:()=>D(()=>import("./Albums-CU8ZEW_m.js"),__vite__mapDeps([0,1,2,3]))},{path:"/timeline",name:"timeline",component:()=>D(()=>import("./Timeline-DvbEotUE.js"),__vite__mapDeps([4,1,2,5]))},{path:"/photo/:id",name:"photo-detail",component:()=>D(()=>import("./PhotoDetail-Bpzn-AHT.js"),__vite__mapDeps([6,1,2,7]))}],Me=de({history:ue("/"),routes:Fe,scrollBehavior(d,c,l){return l||{top:0}}}),G=me(xe);G.use(Me);G.mount("#app");export{Q as _,b as s};

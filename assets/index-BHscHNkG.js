const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Albums-DUxuK25q.js","assets/vendor-vue-BAWZmQqV.js","assets/vendor-vue-CIGW-MKW.css","assets/Albums-79hpDYaS.css","assets/Timeline-BVIuFOaI.js","assets/Timeline-9uYp7-PY.css","assets/PhotoDetail-YcPqX_ql.js","assets/PhotoDetail-eZT0yS29.css"])))=>i.map(i=>d[i]);
import{r as K,a as b,w as N,c as v,b as t,n as L,d as Z,e as k,f as x,u as g,g as Q,h as F,i as j,v as J,j as w,o as u,T as U,k as X,l as ee,m as A,p as S,q as M,s as te,t as Y,x as y,y as oe,z as se,A as ne,F as ae,B as re,C as le,D as ie,E as ce}from"./vendor-vue-BAWZmQqV.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const e of n.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&_(e)}).observe(document,{childList:!0,subtree:!0});function l(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function _(o){if(o.ep)return;o.ep=!0;const n=l(o);fetch(o.href,n)}})();const de="modulepreload",ue=function(d){return"/vue-photo-wall/"+d},R={},P=function(i,l,_){let o=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=(e==null?void 0:e.nonce)||(e==null?void 0:e.getAttribute("nonce"));o=Promise.allSettled(l.map(m=>{if(m=ue(m),m in R)return;R[m]=!0;const f=m.endsWith(".css"),E=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":de,f||(p.as="script"),p.crossOrigin="",p.href=m,s&&p.setAttribute("nonce",s),document.head.appendChild(p),f)return new Promise((T,D)=>{p.addEventListener("load",T),p.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${m}`)))})}))}function n(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return o.then(e=>{for(const s of e||[])s.status==="rejected"&&n(s.reason);return i().catch(n)})},C=K({searchQuery:"",photos:[],loading:!1,async initData(){if(!(this.photos.length>0)){this.loading=!0;try{const d=await P(()=>import("./photos-Db4e9ZaV.js"),[]);this.photos=d.default||d}catch(d){console.error("æ•°æ®åŠ è½½å¤±è´¥",d)}finally{this.loading=!1}}}}),z=(d,i)=>{const l=d.__vccOpts||d;for(const[_,o]of i)l[_]=o;return l},me={class:"layout-container"},ve={class:"sidebar-inner"},fe={class:"nav-menu"},pe={class:"search-section"},he={class:"search-input-wrapper"},_e={class:"main-content"},ye={__name:"App",setup(d){const i=Q(),l=b(!1),_=()=>{l.value=!l.value},o=()=>{l.value=!1};return N(()=>i.path,()=>{o()}),(n,e)=>{const s=F("router-link"),m=F("router-view");return u(),v("div",me,[t("header",{class:"mobile-header"},[t("button",{class:"menu-btn",onClick:_},[...e[1]||(e[1]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),e[2]||(e[2]=t("span",{class:"mobile-title"},"ChronoFrame",-1)),e[3]||(e[3]=t("div",{style:{width:"24px"}},null,-1))]),t("div",{class:L(["drawer-overlay",{show:l.value}]),onClick:o},null,2),t("aside",{class:L(["sidebar",{open:l.value}])},[t("div",ve,[t("button",{class:"close-btn-mobile",onClick:o},"Ã—"),e[8]||(e[8]=Z('<div class="profile-section" data-v-796f942d><div class="avatar-ring" data-v-796f942d><img src="https://api.dicebear.com/7.x/notionists/svg?seed=Felix" alt="Avatar" data-v-796f942d></div><h1 class="brand-title" data-v-796f942d>ChronoFrame</h1><p class="brand-slogan" data-v-796f942d>Frozen moments in time.</p></div>',1)),t("nav",fe,[k(s,{to:"/",class:L(["nav-item",{active:g(i).name==="home"}])},{default:x(()=>[...e[4]||(e[4]=[t("span",{class:"icon"},"ðŸ“·",-1),w(" å…¨éƒ¨ç…§ç‰‡ ",-1)])]),_:1},8,["class"]),k(s,{to:"/albums",class:L(["nav-item",{active:g(i).name==="albums"}])},{default:x(()=>[...e[5]||(e[5]=[t("span",{class:"icon"},"ðŸ“‚",-1),w(" ç›¸å†Œåˆ†ç±» ",-1)])]),_:1},8,["class"]),k(s,{to:"/timeline",class:L(["nav-item",{active:g(i).name==="timeline"}])},{default:x(()=>[...e[6]||(e[6]=[t("span",{class:"icon"},"â³",-1),w(" æ—¶é—´å½’æ¡£ ",-1)])]),_:1},8,["class"])]),t("div",pe,[t("div",he,[e[7]||(e[7]=t("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)),j(t("input",{"onUpdate:modelValue":e[0]||(e[0]=f=>g(C).searchQuery=f),placeholder:"Type to search...",type:"text"},null,512),[[J,g(C).searchQuery]])])]),e[9]||(e[9]=t("div",{class:"footer"},[w(" Â© 2025 ChronoFrame"),t("br"),w("Designed by Vue3 ")],-1))])],2),t("main",_e,[k(m,null,{default:x(({Component:f})=>[k(U,{name:"page-fade",mode:"out-in"},{default:x(()=>[(u(),X(ee(f)))]),_:2},1024)]),_:1})])])}}},ge=z(ye,[["__scopeId","data-v-796f942d"]]),we={class:"gallery-container"},be={key:0,class:"gallery-header"},ke={class:"header-content"},xe={class:"category-title"},Ce={class:"stats"},Le={key:0},Ee={key:1,class:"search-feedback"},De={class:"masonry-grid"},Se=["data-date","onClick"],Ye=["src","alt","onLoad"],Pe={class:"overlay"},Te={class:"overlay-content"},Oe={class:"photo-title"},Ae={key:0,class:"exif-info"},$e={key:0},Ie={class:"date"},Ve={key:0},Be={key:1,class:"end-text"},Fe={key:2,class:"empty"},$=20,Me={__name:"Gallery",setup(d){const i=Q(),l=se(),_=A(()=>C.photos),o=b(i.params.name||"å…¨éƒ¨"),n=b($),e=b(null);N(()=>i.params.name,c=>{o.value=c||"å…¨éƒ¨",n.value=$,window.scrollTo(0,0)});const s=A(()=>_.value.filter(a=>{var B;const r=o.value==="å…¨éƒ¨"?!0:a.category===o.value,h=C.searchQuery.toLowerCase(),W=!h||a.category.toLowerCase().includes(h)||((B=a.exif)==null?void 0:B.model)&&a.exif.model.toLowerCase().includes(h)||a.name.toLowerCase().includes(h)||a.date&&S(a.date).format("YYYY").includes(h);return r&&W}).sort((a,r)=>new Date(r.date)-new Date(a.date))),m=A(()=>s.value.slice(0,n.value)),f=()=>{n.value<s.value.length&&(n.value+=$)};M(()=>{C.initData();const c=new IntersectionObserver(a=>{a[0].isIntersecting&&f()},{rootMargin:"200px"});e.value&&c.observe(e.value)});const E=b(new Set),p=c=>E.value.add(c),T=c=>S(c).format("YYYY.MM.DD"),D=b(""),O=b(!1);let I=null;const V=()=>{document.querySelector(".main-content"),O.value=!0;const c=document.querySelectorAll(".photo-card");for(const a of c){const r=a.getBoundingClientRect();if(r.top>=0&&r.top<window.innerHeight){const h=a.getAttribute("data-date");h&&(D.value=S(h).format("YYYYå¹´ MMæœˆ"));break}}clearTimeout(I),I=setTimeout(()=>O.value=!1,1500)};M(()=>{(document.querySelector(".main-content")||window).addEventListener("scroll",V,{passive:!0})}),te(()=>{(document.querySelector(".main-content")||window).removeEventListener("scroll",V)});const G=c=>{l.push(`/photo/${c}`)};return(c,a)=>(u(),v("div",we,[k(U,{name:"fade"},{default:x(()=>[j(t("div",{class:"floating-date-badge"},y(D.value),513),[[ne,O.value&&D.value]])]),_:1}),g(C).searchQuery?(u(),v("div",Ee,[a[0]||(a[0]=w(' Searching for "',-1)),t("span",null,y(g(C).searchQuery),1),a[1]||(a[1]=w('" ',-1))])):(u(),v("header",be,[t("div",ke,[t("h2",xe,y(o.value),1),t("p",Ce,[w(y(s.value.length)+" Frames Â· ",1),s.value.length>0?(u(),v("span",Le,y(g(S)(s.value[s.value.length-1].date).format("YYYY.MM"))+" - "+y(g(S)(s.value[0].date).format("YYYY.MM")),1)):Y("",!0)])])])),t("div",De,[k(oe,{name:"list"},{default:x(()=>[(u(!0),v(ae,null,re(m.value,r=>(u(),v("div",{key:r.id,class:"photo-card","data-date":r.date,onClick:h=>G(r.id)},[t("div",{class:L(["img-container",{loaded:E.value.has(r.id),"skeleton-pulse":!E.value.has(r.id)}])},[t("img",{src:r.thumb||r.url,loading:"lazy",alt:r.name,onLoad:h=>p(r.id)},null,40,Ye),t("div",Pe,[t("div",Te,[t("h3",Oe,y(r.category),1),r.exif?(u(),v("div",Ae,[r.exif.model?(u(),v("p",$e,y(r.exif.model),1)):Y("",!0),t("p",Ie,y(T(r.date)),1)])):Y("",!0)])])],2)],8,Se))),128))]),_:1})]),t("div",{ref_key:"bottomObserver",ref:e,class:"loading-trigger"},[n.value<s.value.length?(u(),v("span",Ve,"Loading more memories...")):(u(),v("span",Be,"The End."))],512),s.value.length===0?(u(),v("div",Fe,[...a[2]||(a[2]=[t("p",null,"No moments found.",-1)])])):Y("",!0)]))}},q=z(Me,[["__scopeId","data-v-663e4574"]]),Re=[{path:"/",name:"home",component:q},{path:"/category/:name",name:"category",component:q},{path:"/albums",name:"albums",component:()=>P(()=>import("./Albums-DUxuK25q.js"),__vite__mapDeps([0,1,2,3]))},{path:"/timeline",name:"timeline",component:()=>P(()=>import("./Timeline-BVIuFOaI.js"),__vite__mapDeps([4,1,2,5]))},{path:"/photo/:id",name:"photo-detail",component:()=>P(()=>import("./PhotoDetail-YcPqX_ql.js"),__vite__mapDeps([6,1,2,7]))}],qe=le({history:ie("/vue-photo-wall/"),routes:Re,scrollBehavior(d,i,l){return l||{top:0}}}),H=ce(ge);H.use(qe);H.mount("#app");export{z as _,C as s};

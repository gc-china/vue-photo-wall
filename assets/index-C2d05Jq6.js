const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Albums-BFu8ofru.js","assets/vendor-vue-BAWZmQqV.js","assets/vendor-vue-CIGW-MKW.css","assets/photos-BFzRSOCw.js","assets/Albums-C3YfL5Ta.css","assets/Timeline-DlSHoVq8.js","assets/Timeline-aTirZjP9.css","assets/PhotoDetail-DlJLc5xI.js","assets/PhotoDetail-D18J6ycd.css"])))=>i.map(i=>d[i]);
import{r as Z,a as k,w as U,c as f,b as t,n as E,d as J,e as x,f as C,u as w,g as Q,h as M,i as z,v as X,j as b,o as m,T as W,k as ee,l as te,m as R,p as D,q,s as oe,t as Y,x as g,y as se,z as ne,A as ae,F as re,B as ie,C as le,D as ce,E as de}from"./vendor-vue-BAWZmQqV.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const e of l.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&_(e)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function _(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();const ue="modulepreload",me=function(u){return"/vue-photo-wall/"+u},N={},P=function(d,i,_){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),c=(e==null?void 0:e.nonce)||(e==null?void 0:e.getAttribute("nonce"));o=Promise.allSettled(i.map(a=>{if(a=me(a),a in N)return;N[a]=!0;const h=a.endsWith(".css"),O=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${O}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":ue,h||(v.as="script"),v.crossOrigin="",v.href=a,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((T,$)=>{v.addEventListener("load",T),v.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${a}`)))})}))}function l(e){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=e,window.dispatchEvent(c),!c.defaultPrevented)throw e}return o.then(e=>{for(const c of e||[])c.status==="rejected"&&l(c.reason);return d().catch(l)})},L=Z({searchQuery:"",photos:[],loading:!1,async initData(){if(!(this.photos.length>0)){this.loading=!0;try{const u=await P(()=>import("./photos-BFzRSOCw.js"),[]);this.photos=u.default||u}catch(u){console.error("æ•°æ®åŠ è½½å¤±è´¥",u)}finally{this.loading=!1}}}}),H=(u,d)=>{const i=u.__vccOpts||u;for(const[_,o]of d)i[_]=o;return i},ve={class:"layout-container"},pe={class:"sidebar-inner"},fe={class:"nav-menu"},he={class:"search-section"},_e={class:"search-input-wrapper"},ye={class:"main-content"},ge={__name:"App",setup(u){const d=Q(),i=k(!1),_=()=>{i.value=!i.value},o=()=>{i.value=!1};return U(()=>d.path,()=>{o()}),(l,e)=>{const c=M("router-link"),a=M("router-view");return m(),f("div",ve,[t("header",{class:"mobile-header"},[t("button",{class:"menu-btn",onClick:_},[...e[1]||(e[1]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),e[2]||(e[2]=t("span",{class:"mobile-title"},"ChronoFrame",-1)),e[3]||(e[3]=t("div",{style:{width:"24px"}},null,-1))]),t("div",{class:E(["drawer-overlay",{show:i.value}]),onClick:o},null,2),t("aside",{class:E(["sidebar",{open:i.value}])},[t("div",pe,[t("button",{class:"close-btn-mobile",onClick:o},"Ã—"),e[8]||(e[8]=J('<div class="profile-section" data-v-796f942d><div class="avatar-ring" data-v-796f942d><img src="https://api.dicebear.com/7.x/notionists/svg?seed=Felix" alt="Avatar" data-v-796f942d></div><h1 class="brand-title" data-v-796f942d>ChronoFrame</h1><p class="brand-slogan" data-v-796f942d>Frozen moments in time.</p></div>',1)),t("nav",fe,[x(c,{to:"/",class:E(["nav-item",{active:w(d).name==="home"}])},{default:C(()=>[...e[4]||(e[4]=[t("span",{class:"icon"},"ðŸ“·",-1),b(" å…¨éƒ¨ç…§ç‰‡ ",-1)])]),_:1},8,["class"]),x(c,{to:"/albums",class:E(["nav-item",{active:w(d).name==="albums"}])},{default:C(()=>[...e[5]||(e[5]=[t("span",{class:"icon"},"ðŸ“‚",-1),b(" ç›¸å†Œåˆ†ç±» ",-1)])]),_:1},8,["class"]),x(c,{to:"/timeline",class:E(["nav-item",{active:w(d).name==="timeline"}])},{default:C(()=>[...e[6]||(e[6]=[t("span",{class:"icon"},"â³",-1),b(" æ—¶é—´å½’æ¡£ ",-1)])]),_:1},8,["class"])]),t("div",he,[t("div",_e,[e[7]||(e[7]=t("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)),z(t("input",{"onUpdate:modelValue":e[0]||(e[0]=h=>w(L).searchQuery=h),placeholder:"Type to search...",type:"text"},null,512),[[X,w(L).searchQuery]])])]),e[9]||(e[9]=t("div",{class:"footer"},[b(" Â© 2025 ChronoFrame"),t("br"),b("Designed by Vue3 ")],-1))])],2),t("main",ye,[x(a,null,{default:C(({Component:h})=>[x(W,{name:"page-fade",mode:"out-in"},{default:C(()=>[(m(),ee(te(h)))]),_:2},1024)]),_:1})])])}}},we=H(ge,[["__scopeId","data-v-796f942d"]]),be={class:"gallery-container"},ke={key:0,class:"gallery-header"},xe={class:"header-content"},Ce={class:"category-title"},Le={class:"stats"},Ee={key:0},De={key:1,class:"search-feedback"},Se={class:"masonry-grid"},Ye=["data-date","onClick"],Pe=["src","alt","onLoad"],Oe={class:"overlay"},Te={class:"overlay-content"},$e={class:"photo-title"},Ae={key:0,class:"exif-info"},Ie={key:0},Re={class:"date"},Ve={key:0},Be={key:1,class:"end-text"},Fe={key:2,class:"empty"},V=20,Me={__name:"Gallery",setup(u){const d=Q(),i=ne(),_=R(()=>L.photos),o=k(d.params.name||"å…¨éƒ¨"),l=r=>{if(!r)return"";if(r.startsWith("http"))return r;const s="gc-china",n="vue-photo-wall",p="main";let y=r;y.startsWith("/")&&(y=y.slice(1)),y.startsWith("public/")||(y="public/"+y);const S=y.split("/").map(encodeURIComponent).join("/");return`https://cdn.jsdelivr.net/gh/${s}/${n}@${p}/${S}`},e=k(V),c=k(null);U(()=>d.params.name,r=>{o.value=r||"å…¨éƒ¨",e.value=V,window.scrollTo(0,0)});const a=R(()=>_.value.filter(s=>{var S;const n=o.value==="å…¨éƒ¨"?!0:s.category===o.value,p=L.searchQuery.toLowerCase(),y=!p||s.category.toLowerCase().includes(p)||((S=s.exif)==null?void 0:S.model)&&s.exif.model.toLowerCase().includes(p)||s.name.toLowerCase().includes(p)||s.date&&D(s.date).format("YYYY").includes(p);return n&&y}).sort((s,n)=>new Date(n.date)-new Date(s.date))),h=R(()=>a.value.slice(0,e.value)),O=()=>{e.value<a.value.length&&(e.value+=V)};q(()=>{L.initData();const r=new IntersectionObserver(s=>{s[0].isIntersecting&&O()},{rootMargin:"200px"});c.value&&r.observe(c.value)});const v=k(new Set),T=r=>v.value.add(r),$=r=>D(r).format("YYYY.MM.DD"),A=k(""),I=k(!1);let B=null;const F=()=>{document.querySelector(".main-content"),I.value=!0;const r=document.querySelectorAll(".photo-card");for(const s of r){const n=s.getBoundingClientRect();if(n.top>=0&&n.top<window.innerHeight){const p=s.getAttribute("data-date");p&&(A.value=D(p).format("YYYYå¹´ MMæœˆ"));break}}clearTimeout(B),B=setTimeout(()=>I.value=!1,1500)};q(()=>{(document.querySelector(".main-content")||window).addEventListener("scroll",F,{passive:!0})}),oe(()=>{(document.querySelector(".main-content")||window).removeEventListener("scroll",F)});const K=r=>{i.push(`/photo/${r}`)};return(r,s)=>(m(),f("div",be,[x(W,{name:"fade"},{default:C(()=>[z(t("div",{class:"floating-date-badge"},g(A.value),513),[[ae,I.value&&A.value]])]),_:1}),w(L).searchQuery?(m(),f("div",De,[s[0]||(s[0]=b(' Searching for "',-1)),t("span",null,g(w(L).searchQuery),1),s[1]||(s[1]=b('" ',-1))])):(m(),f("header",ke,[t("div",xe,[t("h2",Ce,g(o.value),1),t("p",Le,[b(g(a.value.length)+" Frames Â· ",1),a.value.length>0?(m(),f("span",Ee,g(w(D)(a.value[a.value.length-1].date).format("YYYY.MM"))+" - "+g(w(D)(a.value[0].date).format("YYYY.MM")),1)):Y("",!0)])])])),t("div",Se,[x(se,{name:"list"},{default:C(()=>[(m(!0),f(re,null,ie(h.value,n=>(m(),f("div",{key:n.id,class:"photo-card","data-date":n.date,onClick:p=>K(n.id)},[t("div",{class:E(["img-container",{loaded:v.value.has(n.id),"skeleton-pulse":!v.value.has(n.id)}])},[t("img",{src:l(n.thumb||n.url),loading:"lazy",alt:n.name,onLoad:p=>T(n.id)},null,40,Pe),t("div",Oe,[t("div",Te,[t("h3",$e,g(n.category),1),n.exif?(m(),f("div",Ae,[n.exif.model?(m(),f("p",Ie,g(n.exif.model),1)):Y("",!0),t("p",Re,g($(n.date)),1)])):Y("",!0)])])],2)],8,Ye))),128))]),_:1})]),t("div",{ref_key:"bottomObserver",ref:c,class:"loading-trigger"},[e.value<a.value.length?(m(),f("span",Ve,"Loading more memories...")):(m(),f("span",Be,"The End."))],512),a.value.length===0?(m(),f("div",Fe,[...s[2]||(s[2]=[t("p",null,"No moments found.",-1)])])):Y("",!0)]))}},j=H(Me,[["__scopeId","data-v-4009a0c9"]]),qe=[{path:"/",name:"home",component:j},{path:"/category/:name",name:"category",component:j},{path:"/albums",name:"albums",component:()=>P(()=>import("./Albums-BFu8ofru.js"),__vite__mapDeps([0,1,2,3,4]))},{path:"/timeline",name:"timeline",component:()=>P(()=>import("./Timeline-DlSHoVq8.js"),__vite__mapDeps([5,1,2,6]))},{path:"/photo/:id",name:"photo-detail",component:()=>P(()=>import("./PhotoDetail-DlJLc5xI.js"),__vite__mapDeps([7,1,2,3,8]))}],Ne=le({history:ce("/vue-photo-wall/"),routes:qe,scrollBehavior(u,d,i){return i||{top:0}}}),G=de(we);G.use(Ne);G.mount("#app");export{H as _,L as s};

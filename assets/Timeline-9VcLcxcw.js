import{s as c,t as f,A as g,x as y,q as Y,c as l,b as o,E as k,F as u,C as m,G as x,o as i,B as _,H as D}from"./vendor-vue-B4QARuKN.js";import{_ as b,s as p}from"./index-Bikk9nil.js";const T={class:"timeline-container"},B={class:"date-header"},C={class:"date-text"},O={class:"count"},w={class:"day-grid"},j=["onClick"],E={class:"img-box"},M=["src","alt"],P={key:0,class:"empty-state"},z=Object.assign({name:"TimelinePage"},{__name:"Timeline",setup(A){c.locale("zh-cn");const h=x();f(()=>{p.initData()});const r={scrollY:0};g((e,n,a)=>{r.scrollY=window.scrollY,a()}),y(()=>{r.scrollY>0&&D(()=>window.scrollTo(0,r.scrollY))});const d=Y(()=>{const e={};return[...p.photos||[]].sort((t,s)=>c(s.date).valueOf()-c(t.date).valueOf()).forEach(t=>{const s=c(t.date).format("YYYY年MM月DD日 dddd");e[s]||(e[s]={title:s,timestamp:c(t.date).valueOf(),photos:[]}),e[s].photos.push(t)}),Object.values(e).sort((t,s)=>s.timestamp-t.timestamp)}),v=e=>{h.push(`/photo/${e}`)};return(e,n)=>(i(),l("div",T,[n[1]||(n[1]=o("h2",null,"⏳ 时间归档",-1)),(i(!0),l(u,null,m(d.value,a=>(i(),l("div",{key:a.title,class:"time-section"},[o("div",B,[n[0]||(n[0]=o("span",{class:"icon-dot"},null,-1)),o("span",C,_(a.title),1),o("span",O,_(a.photos.length)+"张",1)]),o("div",w,[(i(!0),l(u,null,m(a.photos,t=>(i(),l("div",{key:t.id,class:"mini-card",onClick:s=>v(t.id)},[o("div",E,[o("img",{src:t.thumb||t.url,loading:"lazy",alt:t.title},null,8,M)])],8,j))),128))])]))),128)),d.value.length===0?(i(),l("div",P," 暂无照片数据 ")):k("",!0)]))}}),L=b(z,[["__scopeId","data-v-29d2b81a"]]);export{L as default};

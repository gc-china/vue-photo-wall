import{q as d,a as v,s as p,w as f,c as n,b as e,L as u,F as h,B as b,E as k,o as r,D as A,A as l}from"./vendor-vue-CVeKuAsD.js";import{_ as w,s as m}from"./index-Bn0rtS2t.js";const B={class:"albums-page-container"},D={class:"content-layer"},x={class:"albums-grid"},C=["onClick"],I={class:"card-image"},M=["src"],z={class:"card-info"},E={class:"album-meta"},F={key:0,class:"year"},S={class:"count"},$={class:"album-name"},j={__name:"Albums",setup(L){const g=k(),c=d(()=>m.photos||[]),_=d(()=>{const t=new Map;return c.value.forEach(s=>{t.has(s.category)||t.set(s.category,{name:s.category,cover:s.url,count:0,year:s.date?new Date(s.date).getFullYear():""}),t.get(s.category).count++}),Array.from(t.values())}),i=v("");p(()=>{m.initData()}),f(c,t=>{const s=o=>/\.(jpg|jpeg|png|webp|gif)$/i.test(o),a=t.filter(o=>s(o.url));if(a.length>0){const o=Math.floor(Math.random()*a.length);i.value=a[o].url}},{immediate:!0});const y=t=>{g.push({name:"category",params:{name:t}})};return(t,s)=>(r(),n("div",B,[e("div",{class:"bg-layer",style:u({backgroundImage:`url(${i.value})`})},null,4),s[2]||(s[2]=e("div",{class:"bg-overlay"},null,-1)),e("div",D,[s[1]||(s[1]=e("header",{class:"page-header"},[e("h2",{class:"title"},"Album Collections"),e("p",{class:"subtitle"},"Stored memories categorized by location.")],-1)),e("div",x,[(r(!0),n(h,null,b(_.value,(a,o)=>(r(),n("div",{key:a.name,class:"album-card",style:u({"--delay":o*.1+"s"}),onClick:N=>y(a.name)},[e("div",I,[e("img",{src:a.cover,loading:"lazy"},null,8,M),s[0]||(s[0]=e("div",{class:"card-overlay"},null,-1))]),e("div",z,[e("div",E,[a.year?(r(),n("span",F,l(a.year),1)):A("",!0),e("span",S,l(a.count)+" items",1)]),e("h3",$,l(a.name),1)])],12,C))),128))])])]))}},O=w(j,[["__scopeId","data-v-8e0cb019"]]);export{O as default};

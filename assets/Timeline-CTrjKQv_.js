import{p as l,q as g,m as y,c as i,b as o,t as b,F as d,B as u,z as k,o as c,x as m}from"./vendor-vue-BAWZmQqV.js";import{_ as D,s as p}from"./index-Ditb8j84.js";const x={class:"timeline-container"},$={class:"date-header"},O={class:"date-text"},j={class:"count"},z={class:"day-grid"},B=["onClick"],C={class:"img-box"},Y=["src","alt"],M={key:0,class:"empty-state"},P={__name:"Timeline",setup(T){l.locale("zh-cn");const h=k();g(()=>{p.initData()});const _=e=>{if(!e)return"";if(e.startsWith("http"))return e;const a="gc-china",n="vue-photo-wall",s="main";let t=e;t.startsWith("/")&&(t=t.slice(1)),t.startsWith("public/")||(t="public/"+t);const f=t.split("/").map(encodeURIComponent).join("/");return`https://cdn.jsdelivr.net/gh/${a}/${n}@${s}/${f}`},r=y(()=>{const e={};return[...p.photos||[]].sort((s,t)=>l(t.date).valueOf()-l(s.date).valueOf()).forEach(s=>{const t=l(s.date).format("YYYY年MM月DD日 dddd");e[t]||(e[t]={title:t,timestamp:l(s.date).valueOf(),photos:[]}),e[t].photos.push(s)}),Object.values(e).sort((s,t)=>t.timestamp-s.timestamp)}),v=e=>{h.push(`/photo/${e}`)};return(e,a)=>(c(),i("div",x,[a[1]||(a[1]=o("h2",null,"⏳ 时间归档",-1)),(c(!0),i(d,null,u(r.value,n=>(c(),i("div",{key:n.title,class:"time-section"},[o("div",$,[a[0]||(a[0]=o("span",{class:"icon-dot"},null,-1)),o("span",O,m(n.title),1),o("span",j,m(n.photos.length)+"张",1)]),o("div",z,[(c(!0),i(d,null,u(n.photos,s=>(c(),i("div",{key:s.id,class:"mini-card",onClick:t=>v(s.id)},[o("div",C,[o("img",{src:_(s.thumb||s.url),loading:"lazy",alt:s.title},null,8,Y)])],8,B))),128))])]))),128)),r.value.length===0?(c(),i("div",M," 暂无照片数据 ")):b("",!0)]))}},F=D(P,[["__scopeId","data-v-1c9d166a"]]);export{F as default};

import{m,a as f,q as b,w as k,c as n,b as t,G as _,F as $,B as x,z,o as r,t as A,x as i}from"./vendor-vue-BAWZmQqV.js";import{_ as B,s as g}from"./index-CqNMHS47.js";const C={class:"albums-page-container"},D={class:"content-layer"},I={class:"albums-grid"},M=["onClick"],w={class:"card-image"},F=["src"],S={class:"card-info"},W={class:"album-meta"},j={key:0,class:"year"},E={class:"count"},N={class:"album-name"},R={__name:"Albums",setup(U){const p=z(),d=e=>{if(!e)return"";if(e.startsWith("http"))return e;const s="gc-china",a="vue-photo-wall",l="main";let o=e;o.startsWith("/")&&(o=o.slice(1)),o.startsWith("public/")||(o="public/"+o);const y=o.split("/").map(encodeURIComponent).join("/");return`https://cdn.jsdelivr.net/gh/${s}/${a}@${l}/${y}`},u=m(()=>g.photos||[]),h=m(()=>{const e=new Map;return u.value.forEach(s=>{e.has(s.category)||e.set(s.category,{name:s.category,cover:s.url,count:0,year:s.date?new Date(s.date).getFullYear():""}),e.get(s.category).count++}),Array.from(e.values())}),c=f("");b(()=>{g.initData()}),k(u,e=>{if(e.length>0&&!c.value){const s=Math.floor(Math.random()*e.length);c.value=e[s].url}},{immediate:!0});const v=e=>{p.push({name:"category",params:{name:e}})};return(e,s)=>(r(),n("div",C,[t("div",{class:"bg-layer",style:_({backgroundImage:`url(${d(c.value)})`})},null,4),s[2]||(s[2]=t("div",{class:"bg-overlay"},null,-1)),t("div",D,[s[1]||(s[1]=t("header",{class:"page-header"},[t("h2",{class:"title"},"Album Collections"),t("p",{class:"subtitle"},"Stored memories categorized by location.")],-1)),t("div",I,[(r(!0),n($,null,x(h.value,(a,l)=>(r(),n("div",{key:a.name,class:"album-card",style:_({"--delay":l*.1+"s"}),onClick:o=>v(a.name)},[t("div",w,[t("img",{src:d(a.cover),loading:"lazy"},null,8,F),s[0]||(s[0]=t("div",{class:"card-overlay"},null,-1))]),t("div",S,[t("div",W,[a.year?(r(),n("span",j,i(a.year),1)):A("",!0),t("span",E,i(a.count)+" items",1)]),t("h3",N,i(a.name),1)])],12,M))),128))])])]))}},L=B(R,[["__scopeId","data-v-bfd5e904"]]);export{L as default};

import{m,a as f,q as b,w as k,c as n,b as e,G as _,F as $,B as x,z,o as r,t as A,x as i}from"./vendor-vue-BAWZmQqV.js";import{_ as B,s as g}from"./index-Ditb8j84.js";const C={class:"albums-page-container"},D={class:"content-layer"},I={class:"albums-grid"},M=["onClick"],w={class:"card-image"},F=["src"],S={class:"card-info"},W={class:"album-meta"},j={key:0,class:"year"},E={class:"count"},N={class:"album-name"},R={__name:"Albums",setup(U){const p=z(),d=t=>{if(!t)return"";if(t.startsWith("http"))return t;const s="gc-china",a="vue-photo-wall",l="main";let o=t;o.startsWith("/")&&(o=o.slice(1)),o.startsWith("public/")||(o="public/"+o);const y=o.split("/").map(encodeURIComponent).join("/");return`https://cdn.jsdelivr.net/gh/${s}/${a}@${l}/${y}`},u=m(()=>g.photos||[]),h=m(()=>{const t=new Map;return u.value.forEach(s=>{t.has(s.category)||t.set(s.category,{name:s.category,cover:s.url,count:0,year:s.date?new Date(s.date).getFullYear():""}),t.get(s.category).count++}),Array.from(t.values())}),c=f("");b(()=>{g.initData()}),k(u,t=>{if(t.length>0&&!c.value){const s=Math.floor(Math.random()*t.length);c.value=t[s].url}},{immediate:!0});const v=t=>{p.push({name:"category",params:{name:t}})};return(t,s)=>(r(),n("div",C,[e("div",{class:"bg-layer",style:_({backgroundImage:`url(${d(c.value)})`})},null,4),s[2]||(s[2]=e("div",{class:"bg-overlay"},null,-1)),e("div",D,[s[1]||(s[1]=e("header",{class:"page-header"},[e("h2",{class:"title"},"Album Collections"),e("p",{class:"subtitle"},"Stored memories categorized by location.")],-1)),e("div",I,[(r(!0),n($,null,x(h.value,(a,l)=>(r(),n("div",{key:a.name,class:"album-card",style:_({"--delay":l*.1+"s"}),onClick:o=>v(a.name)},[e("div",w,[e("img",{src:d(a.cover),loading:"lazy"},null,8,F),s[0]||(s[0]=e("div",{class:"card-overlay"},null,-1))]),e("div",S,[e("div",W,[a.year?(r(),n("span",j,i(a.year),1)):A("",!0),e("span",E,i(a.count)+" items",1)]),e("h3",N,i(a.name),1)])],12,M))),128))])])]))}},L=B(R,[["__scopeId","data-v-6d7f3af3"]]);export{L as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Albums-D3_hkvTa.js","assets/vendor-vue-BAWZmQqV.js","assets/vendor-vue-CIGW-MKW.css","assets/photos-cSNlXStU.js","assets/Albums-C3YfL5Ta.css","assets/Timeline-qvqWJvN2.js","assets/Timeline-aLu0kzDa.css","assets/PhotoDetail-CYSgylTv.js","assets/PhotoDetail-D18J6ycd.css"])))=>i.map(i=>d[i]);
import{r as Z,a as b,w as N,c as f,b as t,n as L,d as J,e as k,f as x,u as g,g as Q,h as B,i as j,v as X,j as w,o as m,T as z,k as ee,l as te,m as $,p as E,q as F,s as oe,t as D,x as y,y as se,z as ne,A as ae,F as re,B as le,C as ie,D as ce,E as de}from"./vendor-vue-BAWZmQqV.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const e of i.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&_(e)}).observe(document,{childList:!0,subtree:!0});function l(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function _(o){if(o.ep)return;o.ep=!0;const i=l(o);fetch(o.href,i)}})();const ue="modulepreload",me=function(u){return"/vue-photo-wall/"+u},M={},S=function(d,l,_){let o=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),c=(e==null?void 0:e.nonce)||(e==null?void 0:e.getAttribute("nonce"));o=Promise.allSettled(l.map(r=>{if(r=me(r),r in M)return;M[r]=!0;const p=r.endsWith(".css"),Y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${Y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":ue,p||(v.as="script"),v.crossOrigin="",v.href=r,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((O,P)=>{v.addEventListener("load",O),v.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${r}`)))})}))}function i(e){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=e,window.dispatchEvent(c),!c.defaultPrevented)throw e}return o.then(e=>{for(const c of e||[])c.status==="rejected"&&i(c.reason);return d().catch(i)})},C=Z({searchQuery:"",photos:[],loading:!1,async initData(){if(!(this.photos.length>0)){this.loading=!0;try{const u=await S(()=>import("./photos-cSNlXStU.js"),[]);this.photos=u.default||u}catch(u){console.error("æ•°æ®åŠ è½½å¤±è´¥",u)}finally{this.loading=!1}}}}),H=(u,d)=>{const l=u.__vccOpts||u;for(const[_,o]of d)l[_]=o;return l},ve={class:"layout-container"},fe={class:"sidebar-inner"},pe={class:"nav-menu"},he={class:"search-section"},_e={class:"search-input-wrapper"},ye={class:"main-content"},ge={__name:"App",setup(u){const d=Q(),l=b(!1),_=()=>{l.value=!l.value},o=()=>{l.value=!1};return N(()=>d.path,()=>{o()}),(i,e)=>{const c=B("router-link"),r=B("router-view");return m(),f("div",ve,[t("header",{class:"mobile-header"},[t("button",{class:"menu-btn",onClick:_},[...e[1]||(e[1]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),t("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),e[2]||(e[2]=t("span",{class:"mobile-title"},"ChronoFrame",-1)),e[3]||(e[3]=t("div",{style:{width:"24px"}},null,-1))]),t("div",{class:L(["drawer-overlay",{show:l.value}]),onClick:o},null,2),t("aside",{class:L(["sidebar",{open:l.value}])},[t("div",fe,[t("button",{class:"close-btn-mobile",onClick:o},"Ã—"),e[8]||(e[8]=J('<div class="profile-section" data-v-796f942d><div class="avatar-ring" data-v-796f942d><img src="https://api.dicebear.com/7.x/notionists/svg?seed=Felix" alt="Avatar" data-v-796f942d></div><h1 class="brand-title" data-v-796f942d>ChronoFrame</h1><p class="brand-slogan" data-v-796f942d>Frozen moments in time.</p></div>',1)),t("nav",pe,[k(c,{to:"/",class:L(["nav-item",{active:g(d).name==="home"}])},{default:x(()=>[...e[4]||(e[4]=[t("span",{class:"icon"},"ðŸ“·",-1),w(" å…¨éƒ¨ç…§ç‰‡ ",-1)])]),_:1},8,["class"]),k(c,{to:"/albums",class:L(["nav-item",{active:g(d).name==="albums"}])},{default:x(()=>[...e[5]||(e[5]=[t("span",{class:"icon"},"ðŸ“‚",-1),w(" ç›¸å†Œåˆ†ç±» ",-1)])]),_:1},8,["class"]),k(c,{to:"/timeline",class:L(["nav-item",{active:g(d).name==="timeline"}])},{default:x(()=>[...e[6]||(e[6]=[t("span",{class:"icon"},"â³",-1),w(" æ—¶é—´å½’æ¡£ ",-1)])]),_:1},8,["class"])]),t("div",he,[t("div",_e,[e[7]||(e[7]=t("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)),j(t("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>g(C).searchQuery=p),placeholder:"Type to search...",type:"text"},null,512),[[X,g(C).searchQuery]])])]),e[9]||(e[9]=t("div",{class:"footer"},[w(" Â© 2025 ChronoFrame"),t("br"),w("Designed by Vue3 ")],-1))])],2),t("main",ye,[k(r,null,{default:x(({Component:p})=>[k(z,{name:"page-fade",mode:"out-in"},{default:x(()=>[(m(),ee(te(p)))]),_:2},1024)]),_:1})])])}}},we=H(ge,[["__scopeId","data-v-796f942d"]]),be={class:"gallery-container"},ke={key:0,class:"gallery-header"},xe={class:"header-content"},Ce={class:"category-title"},Le={class:"stats"},Ee={key:0},De={key:1,class:"search-feedback"},Se={class:"masonry-grid"},Ye=["data-date","onClick"],Oe=["src","alt","onLoad"],Pe={class:"overlay"},Te={class:"overlay-content"},Ae={class:"photo-title"},$e={key:0,class:"exif-info"},Ie={key:0},Re={class:"date"},Ve={key:0},qe={key:1,class:"end-text"},Be={key:2,class:"empty"},I=20,Fe={__name:"Gallery",setup(u){const d=Q(),l=ne(),_=$(()=>C.photos),o=b(d.params.name||"å…¨éƒ¨"),i=a=>{if(!a)return"";if(a.includes("images.weserv.nl"))return a;let s=a;if(!a.startsWith("http"))return a;const n=s.replace(/^https?:\/\//,"");return`https://images.weserv.nl/?url=${encodeURIComponent(n)}&w=500&q=80&output=webp`},e=b(I),c=b(null);N(()=>d.params.name,a=>{o.value=a||"å…¨éƒ¨",e.value=I,window.scrollTo(0,0)});const r=$(()=>_.value.filter(s=>{var q;const n=o.value==="å…¨éƒ¨"?!0:s.category===o.value,h=C.searchQuery.toLowerCase(),K=!h||s.category.toLowerCase().includes(h)||((q=s.exif)==null?void 0:q.model)&&s.exif.model.toLowerCase().includes(h)||s.name.toLowerCase().includes(h)||s.date&&E(s.date).format("YYYY").includes(h);return n&&K}).sort((s,n)=>new Date(n.date)-new Date(s.date))),p=$(()=>r.value.slice(0,e.value)),Y=()=>{e.value<r.value.length&&(e.value+=I)};F(()=>{C.initData();const a=new IntersectionObserver(s=>{s[0].isIntersecting&&Y()},{rootMargin:"200px"});c.value&&a.observe(c.value)});const v=b(new Set),O=a=>v.value.add(a),P=a=>E(a).format("YYYY.MM.DD"),T=b(""),A=b(!1);let R=null;const V=()=>{document.querySelector(".main-content"),A.value=!0;const a=document.querySelectorAll(".photo-card");for(const s of a){const n=s.getBoundingClientRect();if(n.top>=0&&n.top<window.innerHeight){const h=s.getAttribute("data-date");h&&(T.value=E(h).format("YYYYå¹´ MMæœˆ"));break}}clearTimeout(R),R=setTimeout(()=>A.value=!1,1500)};F(()=>{(document.querySelector(".main-content")||window).addEventListener("scroll",V,{passive:!0})}),oe(()=>{(document.querySelector(".main-content")||window).removeEventListener("scroll",V)});const W=a=>{l.push(`/photo/${a}`)};return(a,s)=>(m(),f("div",be,[k(z,{name:"fade"},{default:x(()=>[j(t("div",{class:"floating-date-badge"},y(T.value),513),[[ae,A.value&&T.value]])]),_:1}),g(C).searchQuery?(m(),f("div",De,[s[0]||(s[0]=w(' Searching for "',-1)),t("span",null,y(g(C).searchQuery),1),s[1]||(s[1]=w('" ',-1))])):(m(),f("header",ke,[t("div",xe,[t("h2",Ce,y(o.value),1),t("p",Le,[w(y(r.value.length)+" Frames Â· ",1),r.value.length>0?(m(),f("span",Ee,y(g(E)(r.value[r.value.length-1].date).format("YYYY.MM"))+" - "+y(g(E)(r.value[0].date).format("YYYY.MM")),1)):D("",!0)])])])),t("div",Se,[k(se,{name:"list"},{default:x(()=>[(m(!0),f(re,null,le(p.value,n=>(m(),f("div",{key:n.id,class:"photo-card","data-date":n.date,onClick:h=>W(n.id)},[t("div",{class:L(["img-container",{loaded:v.value.has(n.id),"skeleton-pulse":!v.value.has(n.id)}])},[t("img",{src:i(n.thumb||n.url),loading:"lazy",alt:n.name,onLoad:h=>O(n.id)},null,40,Oe),t("div",Pe,[t("div",Te,[t("h3",Ae,y(n.category),1),n.exif?(m(),f("div",$e,[n.exif.model?(m(),f("p",Ie,y(n.exif.model),1)):D("",!0),t("p",Re,y(P(n.date)),1)])):D("",!0)])])],2)],8,Ye))),128))]),_:1})]),t("div",{ref_key:"bottomObserver",ref:c,class:"loading-trigger"},[e.value<r.value.length?(m(),f("span",Ve,"Loading more memories...")):(m(),f("span",qe,"The End."))],512),r.value.length===0?(m(),f("div",Be,[...s[2]||(s[2]=[t("p",null,"No moments found.",-1)])])):D("",!0)]))}},U=H(Fe,[["__scopeId","data-v-3f0f7703"]]),Me=[{path:"/",name:"home",component:U},{path:"/category/:name",name:"category",component:U},{path:"/albums",name:"albums",component:()=>S(()=>import("./Albums-D3_hkvTa.js"),__vite__mapDeps([0,1,2,3,4]))},{path:"/timeline",name:"timeline",component:()=>S(()=>import("./Timeline-qvqWJvN2.js"),__vite__mapDeps([5,1,2,6]))},{path:"/photo/:id",name:"photo-detail",component:()=>S(()=>import("./PhotoDetail-CYSgylTv.js"),__vite__mapDeps([7,1,2,3,8]))}],Ue=ie({history:ce("/vue-photo-wall/"),routes:Me,scrollBehavior(u,d,l){return l||{top:0}}}),G=de(we);G.use(Ue);G.mount("#app");export{H as _,C as s};

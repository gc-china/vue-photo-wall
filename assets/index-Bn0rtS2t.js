const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Albums-CXW_p90u.js","assets/vendor-vue-CVeKuAsD.js","assets/vendor-vue-CIGW-MKW.css","assets/Albums-B4KiBtg-.css","assets/Timeline-CEpn7aQL.js","assets/Timeline-CUeWW5t4.css","assets/PhotoDetail-tnRwgwj0.js","assets/PhotoDetail-f2_BEwM1.css"])))=>i.map(i=>d[i]);
import{r as K,a as w,w as F,c as v,b as e,n as _,d as X,e as x,f as P,u as b,g as U,h as j,j as ee,v as te,o as d,k as S,T as oe,m as z,K as se,p as ne,q as O,s as re,t as ae,x as le,y as ie,z as ce,A as G,F as H,B as N,C as de,D as ue,E as me,G as ve,H as pe,I as fe,J as he}from"./vendor-vue-CVeKuAsD.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const t of r.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&f(t)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const we="modulepreload",ye=function(a){return"/"+a},W={},B=function(l,s,f){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),c=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));n=Promise.allSettled(s.map(m=>{if(m=ye(m),m in W)return;W[m]=!0;const p=m.endsWith(".css"),k=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${k}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":we,p||(u.as="script"),u.crossOrigin="",u.href=m,c&&u.setAttribute("nonce",c),document.head.appendChild(u),p)return new Promise((M,L)=>{u.addEventListener("load",M),u.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${m}`)))})}))}function r(t){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=t,window.dispatchEvent(c),!c.defaultPrevented)throw t}return n.then(t=>{for(const c of t||[])c.status==="rejected"&&r(c.reason);return l().catch(r)})},E=K({searchQuery:"",photos:[],loading:!1,async initData(){if(!(this.photos.length>0)){this.loading=!0;try{const a=await B(()=>import("./photos-ld-WnefF.js"),[]);this.photos=a.default||a}catch(a){console.error("æ•°æ®åŠ è½½å¤±è´¥",a)}finally{this.loading=!1}}}}),R=(a,l)=>{const s=a.__vccOpts||a;for(const[f,n]of l)s[f]=n;return s},ge={class:"layout-container"},_e={class:"sidebar-inner"},be={class:"nav-menu"},Ee={class:"search-section"},ke={class:"search-input-wrapper"},Ce={class:"main-content"},Le={__name:"App",setup(a){const l=U(),s=w(!1),f=()=>{s.value=!s.value},n=()=>{s.value=!1};return F(()=>l.path,()=>{n()}),(r,t)=>{const c=j("router-link"),m=j("router-view");return d(),v("div",ge,[e("header",{class:"mobile-header"},[e("button",{class:"menu-btn",onClick:f},[...t[1]||(t[1]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),t[2]||(t[2]=e("span",{class:"mobile-title"},"YuCheng",-1)),t[3]||(t[3]=e("div",{style:{width:"24px"}},null,-1))]),e("div",{class:_(["drawer-overlay",{show:s.value}]),onClick:n},null,2),e("aside",{class:_(["sidebar",{open:s.value}])},[e("div",_e,[e("button",{class:"close-btn-mobile",onClick:n},"Ã—"),t[8]||(t[8]=X('<div class="profile-section" data-v-5166eb9e><div class="avatar-ring" data-v-5166eb9e><img src="https://api.dicebear.com/7.x/notionists/svg?seed=Felix" alt="Avatar" data-v-5166eb9e></div><h1 class="brand-title" data-v-5166eb9e>YuCheng</h1><p class="brand-slogan" data-v-5166eb9e>è®°å½•ç¾Žå¥½çž¬é—´</p></div>',1)),e("nav",be,[x(c,{to:"/",class:_(["nav-item",{active:b(l).name==="home"}])},{default:P(()=>[...t[4]||(t[4]=[e("span",{class:"icon"},"ðŸ“·",-1),S(" å…¨éƒ¨ç…§ç‰‡ ",-1)])]),_:1},8,["class"]),x(c,{to:"/albums",class:_(["nav-item",{active:b(l).name==="albums"}])},{default:P(()=>[...t[5]||(t[5]=[e("span",{class:"icon"},"ðŸ“‚",-1),S(" ç›¸å†Œåˆ†ç±» ",-1)])]),_:1},8,["class"]),x(c,{to:"/timeline",class:_(["nav-item",{active:b(l).name==="timeline"}])},{default:P(()=>[...t[6]||(t[6]=[e("span",{class:"icon"},"â³",-1),S(" æ—¶é—´å½’æ¡£ ",-1)])]),_:1},8,["class"])]),e("div",Ee,[e("div",ke,[t[7]||(t[7]=e("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)),ee(e("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>b(E).searchQuery=p),placeholder:"Type to search...",type:"text"},null,512),[[te,b(E).searchQuery]])])])])],2),e("main",Ce,[x(m,null,{default:P(({Component:p})=>[x(oe,{name:"fade",mode:"out-in"},{default:P(()=>[(d(),z(se,{include:"GalleryPage,TimelinePage"},[(d(),z(ne(p)))],1024))]),_:2},1024)]),_:1})])])}}},Ie=R(Le,[["__scopeId","data-v-5166eb9e"]]),xe={},Pe={class:"loading-spinner","aria-label":"Loading content"};function De(a,l){return d(),v("div",Pe,[...l[0]||(l[0]=[e("div",{class:"spinner"},null,-1)])])}const Se=R(xe,[["render",De],["__scopeId","data-v-4fca53d6"]]),Te={class:"gallery-container"},Ae={key:0,class:"controls"},Oe={class:"current-category"},Be={key:1,class:"search-feedback"},Me={class:"photo-gallery"},Ze=["onClick"],ze=["src","alt"],Re={key:1,class:"end-text"},Ve=["src","alt"],D=20,Ye={__name:"Gallery",setup(a){const l=U();me();const s={scrollY:0,category:"",limit:20},f=O(()=>E.photos||[]),n=w(l.params.name||"å…¨éƒ¨"),r=w(D),t=w(null);F(()=>l.params.name,i=>{const o=i||"å…¨éƒ¨";o!==s.category&&(n.value=o,r.value=D,s.category=o,s.scrollY=0,s.limit=D,window.scrollTo(0,0))});const c=O(()=>f.value.filter(o=>{var Z;const h=n.value==="å…¨éƒ¨"?!0:o.category===n.value,y=E.searchQuery.toLowerCase(),g=!y||o.category.toLowerCase().includes(y)||((Z=o.exif)==null?void 0:Z.model)&&o.exif.model.toLowerCase().includes(y)||o.name.toLowerCase().includes(y)||o.date&&dayjs(o.date).format("YYYY").includes(y);return h&&g}).sort((o,h)=>new Date(h.date)-new Date(o.date))),m=O(()=>c.value.slice(0,r.value)),p=()=>{r.value<c.value.length&&(r.value+=D)},k=w(!1),u=w(null),M=i=>{u.value=i,k.value=!0,document.body.style.overflow="hidden"},L=()=>{k.value=!1,document.body.style.overflow="auto"},T=i=>{i.key==="Escape"&&k.value&&L()},Y=w(!1),A=()=>{Y.value=window.scrollY>300},J=()=>{window.scrollTo({top:0,behavior:"smooth"})},$=i=>{i.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuWbvueJh+WKoOi9veS4rTwvdGV4dD48L3N2Zz4="},C=w(4),I=()=>{const i=window.innerWidth;i<480?C.value=1:i<768?C.value=2:i<1200?C.value=3:C.value=4},q=O(()=>{const i=Array.from({length:C.value},()=>[]);return m.value.forEach((o,h)=>{i[h%C.value].push(o)}),i});return re(()=>{E.initData(),s.limit>D&&(r.value=s.limit);const i=new IntersectionObserver(o=>{o[0].isIntersecting&&p()},{rootMargin:"200px"});t.value&&i.observe(t.value),I(),window.addEventListener("resize",I),window.addEventListener("keydown",T),window.addEventListener("scroll",A)}),ae(()=>{window.addEventListener("resize",I),window.addEventListener("keydown",T),window.addEventListener("scroll",A),s.scrollY>0&&ve(()=>{window.scrollTo(0,s.scrollY)})}),le(()=>{window.removeEventListener("resize",I),window.removeEventListener("keydown",T),window.removeEventListener("scroll",A)}),ie(()=>{window.removeEventListener("resize",I),window.removeEventListener("keydown",T),window.removeEventListener("scroll",A)}),ce((i,o,h)=>{s.scrollY=window.scrollY,s.limit=r.value,h()}),(i,o)=>(d(),v("div",Te,[o[5]||(o[5]=e("header",{class:"header"},[e("h1",null,"ç¾Žå¥½æ—¶å…‰ç…§ç‰‡å¢™")],-1)),b(E).searchQuery?(d(),v("div",Be,[o[1]||(o[1]=S('Searching for "',-1)),e("span",null,G(b(E).searchQuery),1),o[2]||(o[2]=S('"',-1))])):(d(),v("div",Ae,[e("h2",Oe,G(n.value),1)])),e("div",Me,[(d(!0),v(H,null,N(q.value,(h,y)=>(d(),v("div",{key:y,class:"masonry-column"},[(d(!0),v(H,null,N(h,g=>(d(),v("div",{key:g.id,class:"photo-item",onClick:Z=>M(g)},[e("img",{src:g.thumb||g.url,alt:g.name,loading:"lazy",onError:$},null,40,ze)],8,Ze))),128))]))),128))]),e("div",{ref_key:"bottomObserver",ref:t,class:"loading-trigger"},[r.value<c.value.length?(d(),z(Se,{key:0})):(d(),v("span",Re,"The End."))],512),e("div",{class:_(["modal",{active:k.value}]),onClick:L},[e("div",{class:"modal-content",onClick:o[0]||(o[0]=de(()=>{},["stop"]))},[e("button",{class:"close-btn",onClick:L},[...o[3]||(o[3]=[e("svg",{class:"close-icon",viewBox:"0 0 24 24"},[e("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])]),u.value?(d(),v("img",{key:0,src:u.value.url,alt:u.value.name,onError:$},null,40,Ve)):ue("",!0)])],2),e("button",{class:_(["back-to-top",{visible:Y.value}]),onClick:J},[...o[4]||(o[4]=[e("svg",{class:"arrow-up-icon",viewBox:"0 0 24 24"},[e("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"})],-1)])],2)]))}},Q=R(Ye,[["__scopeId","data-v-a9ce0e6a"]]),$e=[{path:"/",name:"home",component:Q},{path:"/category/:name",name:"category",component:Q},{path:"/albums",name:"albums",component:()=>B(()=>import("./Albums-CXW_p90u.js"),__vite__mapDeps([0,1,2,3]))},{path:"/timeline",name:"timeline",component:()=>B(()=>import("./Timeline-CEpn7aQL.js"),__vite__mapDeps([4,1,2,5]))},{path:"/photo/:id",name:"photo-detail",component:()=>B(()=>import("./PhotoDetail-tnRwgwj0.js"),__vite__mapDeps([6,1,2,7]))}],je=pe({history:fe("/"),routes:$e,scrollBehavior(a,l,s){return s||{top:0}}}),V=he(Ie);V.config.errorHandler=(a,l,s)=>{console.error("[System Error] Global Error Handler Caught:",a),console.error("[System Error] Info:",s)};window.addEventListener("unhandledrejection",a=>{console.warn("[System Warning] Unhandled Promise Rejection:",a.reason),a.preventDefault()});V.use(je);V.mount("#app");export{R as _,B as a,E as s};

import{s as c,y as f,C as y,z as g,x as Y,c as l,b as o,q as k,F as u,D as m,E as D,o as i,t as _,G as x}from"./vendor-vue-CWsiai-x.js";import{_ as b,s as p}from"./index-BX4RGhpT.js";const T={class:"timeline-container"},C={class:"date-header"},O={class:"date-text"},w={class:"count"},B={class:"day-grid"},j=["onClick"],z={class:"img-box"},E=["src","alt"],M={key:0,class:"empty-state"},P=Object.assign({name:"TimelinePage"},{__name:"Timeline",setup(F){c.locale("zh-cn");const h=D();f(()=>{p.initData()});const r={scrollY:0};y((e,n,a)=>{r.scrollY=window.scrollY,a()}),g(()=>{r.scrollY>0&&x(()=>window.scrollTo(0,r.scrollY))});const d=Y(()=>{const e={};return[...p.photos||[]].sort((t,s)=>c(s.date).valueOf()-c(t.date).valueOf()).forEach(t=>{const s=c(t.date).format("YYYY年MM月DD日 dddd");e[s]||(e[s]={title:s,timestamp:c(t.date).valueOf(),photos:[]}),e[s].photos.push(t)}),Object.values(e).sort((t,s)=>s.timestamp-t.timestamp)}),v=e=>{h.push(`/photo/${e}`)};return(e,n)=>(i(),l("div",T,[n[1]||(n[1]=o("h2",null,"⏳ 时间归档",-1)),(i(!0),l(u,null,m(d.value,a=>(i(),l("div",{key:a.title,class:"time-section"},[o("div",C,[n[0]||(n[0]=o("span",{class:"icon-dot"},null,-1)),o("span",O,_(a.title),1),o("span",w,_(a.photos.length)+"张",1)]),o("div",B,[(i(!0),l(u,null,m(a.photos,t=>(i(),l("div",{key:t.id,class:"mini-card",onClick:s=>v(t.id)},[o("div",z,[o("img",{src:t.thumb||t.url,loading:"lazy",alt:t.title},null,8,E)])],8,j))),128))])]))),128)),d.value.length===0?(i(),l("div",M," 暂无照片数据 ")):k("",!0)]))}}),N=b(P,[["__scopeId","data-v-29d2b81a"]]);export{N as default};

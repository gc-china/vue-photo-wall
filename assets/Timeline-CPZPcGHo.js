import{p as c,q as f,t as y,s as g,m as Y,c as l,b as o,C as k,F as m,y as u,z as x,o as i,x as _,A as D}from"./vendor-vue-C9kWPA4d.js";import{_ as b,s as p}from"./index-CTr10eM1.js";const T={class:"timeline-container"},C={class:"date-header"},O={class:"date-text"},w={class:"count"},B={class:"day-grid"},j=["onClick"],z={class:"img-box"},M=["src","alt"],P={key:0,class:"empty-state"},A=Object.assign({name:"TimelinePage"},{__name:"Timeline",setup(E){c.locale("zh-cn");const h=x();f(()=>{p.initData()});const r={scrollY:0};y((e,n,a)=>{r.scrollY=window.scrollY,a()}),g(()=>{r.scrollY>0&&D(()=>window.scrollTo(0,r.scrollY))});const d=Y(()=>{const e={};return[...p.photos||[]].sort((t,s)=>c(s.date).valueOf()-c(t.date).valueOf()).forEach(t=>{const s=c(t.date).format("YYYY年MM月DD日 dddd");e[s]||(e[s]={title:s,timestamp:c(t.date).valueOf(),photos:[]}),e[s].photos.push(t)}),Object.values(e).sort((t,s)=>s.timestamp-t.timestamp)}),v=e=>{h.push(`/photo/${e}`)};return(e,n)=>(i(),l("div",T,[n[1]||(n[1]=o("h2",null,"⏳ 时间归档",-1)),(i(!0),l(m,null,u(d.value,a=>(i(),l("div",{key:a.title,class:"time-section"},[o("div",C,[n[0]||(n[0]=o("span",{class:"icon-dot"},null,-1)),o("span",O,_(a.title),1),o("span",w,_(a.photos.length)+"张",1)]),o("div",B,[(i(!0),l(m,null,u(a.photos,t=>(i(),l("div",{key:t.id,class:"mini-card",onClick:s=>v(t.id)},[o("div",z,[o("img",{src:t.thumb||t.url,loading:"lazy",alt:t.title},null,8,M)])],8,j))),128))])]))),128)),d.value.length===0?(i(),l("div",P," 暂无照片数据 ")):k("",!0)]))}}),N=b(A,[["__scopeId","data-v-29d2b81a"]]);export{N as default};

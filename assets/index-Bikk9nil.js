const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Albums-B9q9RP-q.js","assets/vendor-vue-B4QARuKN.js","assets/vendor-vue-CIGW-MKW.css","assets/Albums-B4KiBtg-.css","assets/Timeline-9VcLcxcw.js","assets/Timeline-BoLt2dbq.css","assets/PhotoDetail-BqUXhPpQ.js","assets/PhotoDetail-f2_BEwM1.css"])))=>i.map(i=>d[i]);
import{r as re,a as g,w as ee,c as f,b as e,n as b,d as ae,e as P,f as D,u as k,g as te,h as U,j as le,v as ie,o as m,k as T,T as ce,m as Y,K as de,p as ue,q as O,s as V,t as ve,x as me,y as fe,z as pe,A as he,B as w,F as J,C as q,D as we,E as z,G as ye,H as _e,I as ge,J as be,L as ke}from"./vendor-vue-B4QARuKN.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))_(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const t of a.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&_(t)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function _(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();const Ce="modulepreload",Ee=function(l){return"/"+l},K={},Z=function(i,s,_){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),d=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));n=Promise.allSettled(s.map(p=>{if(p=Ee(p),p in K)return;K[p]=!0;const y=p.endsWith(".css"),E=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const c=document.createElement("link");if(c.rel=y?"stylesheet":Ce,y||(c.as="script"),c.crossOrigin="",c.href=p,d&&c.setAttribute("nonce",d),document.head.appendChild(c),y)return new Promise(($,x)=>{c.addEventListener("load",$),c.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(t){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=t,window.dispatchEvent(d),!d.defaultPrevented)throw t}return n.then(t=>{for(const d of t||[])d.status==="rejected"&&a(d.reason);return i().catch(a)})},C=re({searchQuery:"",photos:[],loading:!1,async initData(){if(!(this.photos.length>0)){this.loading=!0;try{const l=await Z(()=>import("./photos-N1T9OBJj.js"),[]);this.photos=l.default||l}catch(l){console.error("æ•°æ®åŠ è½½å¤±è´¥",l)}finally{this.loading=!1}}}}),j=(l,i)=>{const s=l.__vccOpts||l;for(const[_,n]of i)s[_]=n;return s},Le={class:"layout-container"},xe={class:"sidebar-inner"},Ie={class:"nav-menu"},Pe={class:"search-section"},De={class:"search-input-wrapper"},Se={class:"main-content"},Te={__name:"App",setup(l){const i=te(),s=g(!1),_=()=>{s.value=!s.value},n=()=>{s.value=!1};return ee(()=>i.path,()=>{n()}),(a,t)=>{const d=U("router-link"),p=U("router-view");return m(),f("div",Le,[e("header",{class:"mobile-header"},[e("button",{class:"menu-btn",onClick:_},[...t[1]||(t[1]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])]),t[2]||(t[2]=e("span",{class:"mobile-title"},"YuCheng",-1)),t[3]||(t[3]=e("div",{style:{width:"24px"}},null,-1))]),e("div",{class:b(["drawer-overlay",{show:s.value}]),onClick:n},null,2),e("aside",{class:b(["sidebar",{open:s.value}])},[e("div",xe,[e("button",{class:"close-btn-mobile",onClick:n},"Ã—"),t[8]||(t[8]=ae('<div class="profile-section" data-v-5166eb9e><div class="avatar-ring" data-v-5166eb9e><img src="https://api.dicebear.com/7.x/notionists/svg?seed=Felix" alt="Avatar" data-v-5166eb9e></div><h1 class="brand-title" data-v-5166eb9e>YuCheng</h1><p class="brand-slogan" data-v-5166eb9e>è®°å½•ç¾Žå¥½çž¬é—´</p></div>',1)),e("nav",Ie,[P(d,{to:"/",class:b(["nav-item",{active:k(i).name==="home"}])},{default:D(()=>[...t[4]||(t[4]=[e("span",{class:"icon"},"ðŸ“·",-1),T(" å…¨éƒ¨ç…§ç‰‡ ",-1)])]),_:1},8,["class"]),P(d,{to:"/albums",class:b(["nav-item",{active:k(i).name==="albums"}])},{default:D(()=>[...t[5]||(t[5]=[e("span",{class:"icon"},"ðŸ“‚",-1),T(" ç›¸å†Œåˆ†ç±» ",-1)])]),_:1},8,["class"]),P(d,{to:"/timeline",class:b(["nav-item",{active:k(i).name==="timeline"}])},{default:D(()=>[...t[6]||(t[6]=[e("span",{class:"icon"},"â³",-1),T(" æ—¶é—´å½’æ¡£ ",-1)])]),_:1},8,["class"])]),e("div",Pe,[e("div",De,[t[7]||(t[7]=e("svg",{class:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)),le(e("input",{"onUpdate:modelValue":t[0]||(t[0]=y=>k(C).searchQuery=y),placeholder:"Type to search...",type:"text"},null,512),[[ie,k(C).searchQuery]])])])])],2),e("main",Se,[P(p,null,{default:D(({Component:y})=>[P(ce,{name:"fade",mode:"out-in"},{default:D(()=>[(m(),Y(de,{include:"GalleryPage,TimelinePage"},[(m(),Y(ue(y)))],1024))]),_:2},1024)]),_:1})])])}}},Ae=j(Te,[["__scopeId","data-v-5166eb9e"]]),Be={},Me={class:"loading-spinner","aria-label":"Loading content"};function Oe(l,i){return m(),f("div",Me,[...i[0]||(i[0]=[e("div",{class:"spinner"},null,-1)])])}const ze=j(Be,[["render",Oe],["__scopeId","data-v-4fca53d6"]]),Ze={class:"gallery-container"},$e={key:0,class:"controls"},Re={class:"current-category"},Ve={key:1,class:"search-feedback"},Ye={class:"photo-gallery"},je=["onClick"],Ge=["src","alt"],He={class:"photo-info"},Ne={class:"photo-category"},We={class:"photo-title"},Qe={key:0,class:"photo-desc"},Fe={class:"photo-stats"},Ue=["onClick"],Je={class:"like-count"},qe={class:"photo-date"},Ke={key:1,class:"end-text"},Xe=["src","alt"],et={key:1,class:"modal-info"},tt={class:"modal-title"},ot={class:"modal-desc"},st={class:"modal-meta"},nt={class:"modal-date"},rt={key:0,class:"modal-model"},S=20,at={__name:"Gallery",setup(l){const i=te();ye();const s={scrollY:0,category:"",limit:20},_=O(()=>C.photos||[]),n=g(i.params.name||"å…¨éƒ¨"),a=g(S),t=g(null);ee(()=>i.params.name,r=>{const o=r||"å…¨éƒ¨";o!==s.category&&(n.value=o,a.value=S,s.category=o,s.scrollY=0,s.limit=S,window.scrollTo(0,0))});const d=O(()=>_.value.filter(o=>{var v;const h=n.value==="å…¨éƒ¨"?!0:o.category===n.value,u=C.searchQuery.toLowerCase(),R=!u||o.category.toLowerCase().includes(u)||((v=o.exif)==null?void 0:v.model)&&o.exif.model.toLowerCase().includes(u)||o.name.toLowerCase().includes(u)||o.date&&V(o.date).format("YYYY").includes(u);return h&&R}).sort((o,h)=>new Date(h.date)-new Date(o.date))),p=O(()=>d.value.slice(0,a.value)),y=()=>{a.value<d.value.length&&(a.value+=S)},E=g(!1),c=g(null),$=r=>{c.value=r,E.value=!0,document.body.style.overflow="hidden"},x=()=>{E.value=!1,document.body.style.overflow="auto"},A=r=>{r.key==="Escape"&&E.value&&x()},B=g(new Set),oe=(r,o)=>{o.stopPropagation(),B.value.has(r.id)?B.value.delete(r.id):B.value.add(r.id)},H=r=>B.value.has(r),N=g(!1),M=()=>{N.value=window.scrollY>300},se=()=>{window.scrollTo({top:0,behavior:"smooth"})},W=r=>{if(!r)return"";const o=V(r),u=V().diff(o,"day");return u===0?"ä»Šå¤©":u===1?"æ˜¨å¤©":u<7?`${u}å¤©å‰`:u<30?`${Math.floor(u/7)}å‘¨å‰`:u<365?`${Math.floor(u/30)}ä¸ªæœˆå‰`:`${Math.floor(u/365)}å¹´å‰`},Q=r=>{r.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuWbvueJh+WKoOi9veS4rTwvdGV4dD48L3N2Zz4="},L=g(4),I=()=>{const r=window.innerWidth;r<480?L.value=1:r<768?L.value=2:r<1200?L.value=3:L.value=4},ne=O(()=>{const r=Array.from({length:L.value},()=>[]);return p.value.forEach((o,h)=>{r[h%L.value].push(o)}),r});return ve(()=>{C.initData(),s.limit>S&&(a.value=s.limit);const r=new IntersectionObserver(o=>{o[0].isIntersecting&&y()},{rootMargin:"200px"});t.value&&r.observe(t.value),I(),window.addEventListener("resize",I),window.addEventListener("keydown",A),window.addEventListener("scroll",M)}),me(()=>{window.addEventListener("resize",I),window.addEventListener("keydown",A),window.addEventListener("scroll",M),s.scrollY>0&&_e(()=>{window.scrollTo(0,s.scrollY)})}),fe(()=>{window.removeEventListener("resize",I),window.removeEventListener("keydown",A),window.removeEventListener("scroll",M)}),pe(()=>{window.removeEventListener("resize",I),window.removeEventListener("keydown",A),window.removeEventListener("scroll",M)}),he((r,o,h)=>{s.scrollY=window.scrollY,s.limit=a.value,h()}),(r,o)=>{var h;return m(),f("div",Ze,[o[6]||(o[6]=e("header",{class:"header"},[e("h1",null,"ç¾Žå¥½æ—¶å…‰ç…§ç‰‡å¢™"),e("p",null,"è®°å½•ç”Ÿæ´»ä¸­çš„æ¯ä¸€ä¸ªç²¾å½©çž¬é—´ï¼Œåˆ†äº«ç¾Žå¥½ï¼Œä¼ é€’æ¸©æš–")],-1)),k(C).searchQuery?(m(),f("div",Ve,[o[1]||(o[1]=T('Searching for "',-1)),e("span",null,w(k(C).searchQuery),1),o[2]||(o[2]=T('"',-1))])):(m(),f("div",$e,[e("h2",Re,w(n.value),1)])),e("div",Ye,[(m(!0),f(J,null,q(ne.value,(u,R)=>(m(),f("div",{key:R,class:"masonry-column"},[(m(!0),f(J,null,q(u,v=>(m(),f("div",{key:v.id,class:"photo-item",onClick:F=>$(v)},[e("img",{src:v.thumb||v.url,alt:v.name,loading:"lazy",onError:Q},null,40,Ge),e("div",He,[e("div",Ne,w(v.category),1),e("h3",We,w(v.name),1),v.description?(m(),f("p",Qe,w(v.description),1)):z("",!0),e("div",Fe,[e("button",{class:b(["like-btn",{liked:H(v.id)}]),onClick:F=>oe(v,F)},[o[3]||(o[3]=e("svg",{class:"heart-icon",viewBox:"0 0 24 24"},[e("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)),e("span",Je,w((v.likes||0)+(H(v.id)?1:0)),1)],10,Ue),e("span",qe,w(W(v.date)),1)])])],8,je))),128))]))),128))]),e("div",{ref_key:"bottomObserver",ref:t,class:"loading-trigger"},[a.value<d.value.length?(m(),Y(ze,{key:0})):(m(),f("span",Ke,"The End."))],512),e("div",{class:b(["modal",{active:E.value}]),onClick:x},[e("div",{class:"modal-content",onClick:o[0]||(o[0]=we(()=>{},["stop"]))},[e("button",{class:"close-btn",onClick:x},[...o[4]||(o[4]=[e("svg",{class:"close-icon",viewBox:"0 0 24 24"},[e("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])]),c.value?(m(),f("img",{key:0,src:c.value.url,alt:c.value.name,onError:Q},null,40,Xe)):z("",!0),c.value?(m(),f("div",et,[e("h3",tt,w(c.value.name),1),e("p",ot,w(c.value.description||"æš‚æ— æè¿°"),1),e("div",st,[e("span",nt,w(W(c.value.date)),1),(h=c.value.exif)!=null&&h.model?(m(),f("span",rt,"Shot on "+w(c.value.exif.model),1)):z("",!0)])])):z("",!0)])],2),e("button",{class:b(["back-to-top",{visible:N.value}]),onClick:se},[...o[5]||(o[5]=[e("svg",{class:"arrow-up-icon",viewBox:"0 0 24 24"},[e("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"})],-1)])],2)])}}},X=j(at,[["__scopeId","data-v-f1e8892b"]]),lt=[{path:"/",name:"home",component:X},{path:"/category/:name",name:"category",component:X},{path:"/albums",name:"albums",component:()=>Z(()=>import("./Albums-B9q9RP-q.js"),__vite__mapDeps([0,1,2,3]))},{path:"/timeline",name:"timeline",component:()=>Z(()=>import("./Timeline-9VcLcxcw.js"),__vite__mapDeps([4,1,2,5]))},{path:"/photo/:id",name:"photo-detail",component:()=>Z(()=>import("./PhotoDetail-BqUXhPpQ.js"),__vite__mapDeps([6,1,2,7]))}],it=ge({history:be("/"),routes:lt,scrollBehavior(l,i,s){return s||{top:0}}}),G=ke(Ae);G.config.errorHandler=(l,i,s)=>{console.error("[System Error] Global Error Handler Caught:",l),console.error("[System Error] Info:",s)};window.addEventListener("unhandledrejection",l=>{console.warn("[System Warning] Unhandled Promise Rejection:",l.reason),l.preventDefault()});G.use(it);G.mount("#app");export{j as _,Z as a,C as s};
